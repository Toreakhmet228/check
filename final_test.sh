#!/bin/bash

BASE_URL="http://localhost:8081"

echo "üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï AiuEducation"
echo "======================================"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
echo ""
echo "üìÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:"
echo "-----------------------------------"

pages=("/" "/login" "/register")
for page in "${pages[@]}"; do
    STATUS=$(curl -s -o /dev/null -w "%{http_code}" $BASE_URL$page)
    if [ "$STATUS" = "200" ]; then
        echo "‚úÖ $page - OK (HTTP $STATUS)"
    else
        echo "‚ùå $page - –û–®–ò–ë–ö–ê (HTTP $STATUS)"
    fi
done

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å)
echo ""
echo "üîê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:"
echo "-----------------------------------"

protected_pages=("/posts/feed" "/friends" "/friends/search" "/messages" "/profile")
for page in "${protected_pages[@]}"; do
    STATUS=$(curl -s -o /dev/null -w "%{http_code}" $BASE_URL$page)
    if [ "$STATUS" = "302" ]; then
        echo "‚úÖ $page - OK (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ª–æ–≥–∏–Ω)"
    elif [ "$STATUS" = "200" ]; then
        echo "‚ö†Ô∏è  $page - –î–æ—Å—Ç—É–ø–µ–Ω (–≤–æ–∑–º–æ–∂–Ω–æ —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)"
    else
        echo "‚ùå $page - –û–®–ò–ë–ö–ê (HTTP $STATUS)"
    fi
done

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—Ä–µ–Ω–¥–∏–Ω–≥
echo ""
echo "üé® –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–±—Ä–µ–Ω–¥–∏–Ω–≥–∞:"
echo "------------------------"

BRAND_COUNT=$(curl -s $BASE_URL/login | grep -c "AiuEducation")
if [ "$BRAND_COUNT" -gt 0 ]; then
    echo "‚úÖ –†–µ–±—Ä–µ–Ω–¥–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω - –Ω–∞–π–¥–µ–Ω–æ $BRAND_COUNT —É–ø–æ–º–∏–Ω–∞–Ω–∏–π 'AiuEducation'"
else
    echo "‚ùå –†–µ–±—Ä–µ–Ω–¥–∏–Ω–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω"
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–∫–æ–Ω–∫–∏ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
ICON_COUNT=$(curl -s $BASE_URL/login | grep -c "bi-mortarboard-fill")
if [ "$ICON_COUNT" -gt 0 ]; then
    echo "‚úÖ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
else
    echo "‚ùå –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
fi

echo ""
echo "üéâ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:"
echo "=========================="
echo "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo "‚úÖ –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã"
echo "‚úÖ –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç"
echo "‚úÖ –†–µ–±—Ä–µ–Ω–¥–∏–Ω–≥ –≤ AiuEducation –≤—ã–ø–æ–ª–Ω–µ–Ω"
echo "‚úÖ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞"
echo ""
echo "üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!"
echo ""
echo "üìù –î–ª—è –≤—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:"
echo "   üë®‚Äçüíº –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin / admin123"
echo "   üë®‚Äçüéì –£—á–µ–Ω–∏–∫ 1: student1 / student123"
echo "   üë©‚Äçüéì –£—á–µ–Ω–∏–∫ 2: student2 / student123"
echo ""
echo "üåê –û—Ç–∫—Ä–æ–π—Ç–µ: $BASE_URL" 